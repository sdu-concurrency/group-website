<!DOCTYPE html>
<html lang="en-GB">

  <!--
	Twenty by HTML5 UP
	html5up.net | @n33co
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->

<head>
    <title>Programming Languages, Systems, and Logic</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="description" content="Programming Languages, Systems, and Logic research group website.
">
    <meta name="keywords" content="" />
    <!--[if lte IE 8]><script src="css/ie/html5shiv.js"></script><![endif]-->
    <script src="/js/jquery.min.js"></script>
    <script src="/js/jquery.dropotron.min.js"></script>
    <script src="/js/jquery.scrolly.min.js"></script>
    <script src="/js/jquery.scrollgress.min.js"></script>
    <script src="/js/bootstrap-toggle.min.js"></script>
    <script src="/js/bootstrap.bundle.min.js"></script>
    <script src="/js/masonry.pkgd.min.js"></script>
    <script src="/js/hyphenator.js"></script>
    <!-- <script src="/js/bootstrap.js"></script> -->
    <!-- <script src="/js/skel.min.js"></script>
    <script src="/js/skel-layers.min.js"></script>
    <script src="/js/init.js"></script> -->
    <!-- <script src="/js/bootstrap.min.js"></script> -->
        
    <noscript>
        <!-- <link rel="stylesheet" href="/css/skel.css" /> -->
        <link rel="stylesheet" href="/css/style.css" />
        <link rel="stylesheet" href="/css/style-wide.css" />
        <link rel="stylesheet" href="/css/style-noscript.css" />
    </noscript>
    <link rel="stylesheet" href="/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/bootstrap-toggle.min.css">
    <!--[if lte IE 8]><link rel="stylesheet" href="/css/ie/v8.css" /><![endif]-->
    <!--[if lte IE 9]><link rel="stylesheet" href="/css/ie/v9.css" /><![endif]-->
    <link rel="stylesheet" href="/css/style.css" />
    <meta name="viewport" content="width=device-width">

    <link rel="canonical" href="http://psl.sdu.dk/communities">
</head>


  <body class="no-sidebar">

    <nav class="pl-3 navbar navbar-expand-md navbar-light bg-light">
  <a class="navbar-brand" href="/">
    <strong class="d-inline d-xl-none">PSL</strong>
    <strong class="d-none d-xl-inline">Programming Languages, Systems, and Logic</strong>
    <span class="d-none d-md-inline">Group</span>
  </a>

  <button class="navbar-toggler" type="button"
  data-toggle="collapse" data-target="#navbarSupportedContent" 
  aria-controls="navbarSupportedContent" aria-expanded="false" 
  aria-label="Toggle navigation">
  <span class="navbar-toggler-icon"></span>
  </button>

<div class="collapse navbar-collapse" id="navbarSupportedContent">
  <ul class="navbar-nav m-auto">

    <li class="nav-item pl-5 my-2 my-lg-0">
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="/research-areas.html"
        id="navbarDropdown" data-toggle="dropdown" 
        aria-haspopup="true" aria-expanded="false">
        Research</a>

      <div class="dropdown-menu" aria-labelledby="navbarDropdown">
        <a class="dropdown-item" href="/research-areas.html">Research areas</a>
        <a class="dropdown-item" href="/software.html">Software</a>
        <a class="dropdown-item" href="/publications.html">Publications</a>
      </div>
    </li>
  </li>   

  <!-- <li class="nav-item">
    <li class="nav-item dropdown">
      <a class="nav-link dropdown-toggle" href="/education.html"
      id="navbarDropdown2" data-toggle="dropdown" 
      aria-haspopup="true" aria-expanded="false">
      Education
    </a>
    <div class="dropdown-menu" aria-labelledby="navbarDropdown2">
      <a class="dropdown-item" href="/education.html#courses">Courses</a>
      <a class="dropdown-item" href="/education.html#msc_package">MSc Package</a>
      <a class="dropdown-item" href="/education.html#talent-fellowship">Talent Fellowship</a>
      <a class="dropdown-item" href="/education.html#thesis-proposals">Thesis Proposals</a>
    </div>
  </li>
</li> -->


<!-- <li class="nav-item">
  <a class="nav-link" href="/education.html">Education</a>
</li> -->


<!-- <li class="nav-item">
  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" href="/industry.html"
    id="navbarDropdown3" data-toggle="dropdown"
    aria-haspopup="true" aria-expanded="false">
    Industry
  </a>
  <div class="dropdown-menu" aria-labelledby="navbarDropdown3">
    <a class="dropdown-item" href="/industry.html#consultancy">Consultancy</a>
    <a class="dropdown-item" href="/industry.html#phd-postdoc">Industrial PhD/PostDoc</a>
    <a class="dropdown-item" href="/industry.html#talent-fellowship">Talent Fellowship</a>
    <a class="dropdown-item" href="/industry.html#innovation-projects">Innovation Projects</a>
    <a class="dropdown-item" href="/industry.html#training">Training</a>
  </div>
</li>
</li> -->

<li class="nav-item">
  <a class="nav-link" href="/grants.html">Grants</a>
</li>

<li class="nav-item">
  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" href="/people.html"
    id="navbarDropdown4" data-toggle="dropdown" 
    aria-haspopup="true" aria-expanded="false">
    People
  </a>
  <div class="dropdown-menu" aria-labelledby="navbarDropdown4">
    <a class="dropdown-item" href="/people.html">Members</a>
    <a class="dropdown-item" href="/people.html#career">Open Positions</a>
  </div>
</li>
</li>

<li class="nav-item">
  <a class="nav-link" href="/events.html">Events</a>
</li>

<li class="nav-item">
  <a class="nav-link" href="/communities.html">Communities</a>
</li>

</ul>
</div>
</nav>
    <div class="page-content">
        <style>

.node {
  cursor: pointer;
}

.node circle {
  fill: #fff;
  stroke: steelblue;
  stroke-width: 1.5px;
}

.text {
  font-size: 14px;
}

.link {
  fill: none;
  stroke: #ccc;
  stroke-width: 1.5px;
}

.myTooltip div {
  display: block;
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  font-style: normal;
  font-weight: 400;
  line-height: 1.5;
  text-align: justify;
  text-align: start;
  text-decoration: none;
  text-shadow: none;
  text-transform: none;
  letter-spacing: normal;
  word-break: normal;
  word-spacing: normal;
  white-space: normal;
  line-break: auto;
  font-size: 0.875rem;
  word-wrap: break-word;
  opacity: 1;
  max-width: 200px;
  padding: 0.25rem 0.5rem;
  color: #fff;
  background-color: #000;
  border-radius: 0.25rem;
}

</style>

<script src="//d3js.org/d3.v3.min.js"></script>

<article id="main"><header class="major container">

    <h1 id="communities">Communities</h1>

  </header><section class="wrapper card style4 container"><div class="content"><section>

        <p>The graph below represents the interactions that members of the PSL have with industrial and public organisations, other academic groups and individuals, open-source communities, and interest groups.</p>

        <p>To explore a node, click on it.</p>

        <p><span style="visibility:hidden; !important" id="text-ruler" class="text">
</span></p>
        <div style="visibility:hidden; !important" class="myTooltip">
  <div id="tooltip-ruler"></div>
</div>

        <div id="image"></div>

      </section></div></section></article>

<script>
  var margin = {top: 20, right: 120, bottom: 20, left: 20},
  width = 960 - margin.right - margin.left,
  height = 1024 - margin.top - margin.bottom,
  rectW = 70,
  rectH = 30;
  
  var i = 0,
  duration = 750,
  root;

  var tree = d3.layout.tree()
  .size([height, width]);

  var diagonal = d3.svg.diagonal()
  .projection(function(d) 
    { return [d.y, d.x]; });

  var svg = d3.select("#image").append("svg")
  .attr("width", width + margin.right + margin.left)
  .attr("height", height + margin.top + margin.bottom)
  .append("g")
  .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

  d3.json("communities.json", function(error, flare) {
    if (error) throw error;

    root = flare;
    root.x0 = height / 2;
    root.y0 = 0;

    function collapse(d) {
      if (d.children) {
        d._children = d.children;
        d._children.forEach(collapse);
        d.children = null;
      }
    }

    root.children.forEach(collapse);
    update(root);
  });

  d3.select(self.frameElement).style("height", "1024px");

  function update(source) {

    // Compute the new tree layout.
    var nodes = tree.nodes(root).reverse(),
    links = tree.links(nodes);

    // Normalize for fixed-depth.
    nodes.forEach(function(d) { d.y = d.depth * 180; });

    // Update the nodes…
    var node = svg.selectAll("g.node")
    .data(nodes, function(d) { return d.id || (d.id = ++i); });

    // Enter any new nodes at the parent's previous position.
    var nodeEnter = node.enter().append("g")
    .attr("class", "node")
    .attr("transform", function(d) { return "translate(" + source.y0 + "," + source.x0 + ")"; })
    .on("click", click)
    .on("mouseenter", function(d) {
          if( d.tooltip != undefined ){
            //var g = d3.select(this.parentNode); // The node
            var g = d3.select( this ); // The node
            
            var info = g.append('svg:foreignObject')
             .attr( 'width', '100%' )
             .attr( 'height', '100%' )
             // .classed( "myTooltip", true )
             .attr( 'x', function( d ){
              if( d._children || d.children ){
                // over it
               return -getLength( d.name )/2;
              } else {
                //next to it
               return 20 + getLength( d.name );
              }
             })
             .attr( 'y', function( d ){
              if( d._children || d.children ){
                // over it
               return -( 20 + getTooltipHeight( d.tooltip ) );
              } else {
                //next to it
               return -getTooltipHeight( d.tooltip )/3;
              }
             })
             .classed( "myTooltip", true )
             .append( 'xhtml:div' )
             .text( d.tooltip );
          }
    })
    .on("mouseout", function(d) {
      if( d.tooltip != undefined ){
          // Remove the info text on mouse out.
          d3.select(this.parentNode)
            .select( 'foreignObject.myTooltip' ).remove();
      }
    });

    nodeEnter.append("circle")
    .attr("r", 1e-6)
    .attr("z-index", -1)
    .style( "fill", function(d) { return d._children ? "lightsteelblue" : "#fff"; });

    var adjustTextX = function( a, n ){
      var length = getLength( n.name );
      return -length/2;
    };

    var getLength = function( n ){
      var ruler = $( "#text-ruler" );
      ruler.html( n );
      var length = ruler.outerWidth( true );
      ruler.html( "" );
      return length+2;
    }; 

    var getTooltipHeight = function( n ){
      var ruler = $( "#tooltip-ruler" );
      ruler.html( n );
      var height = ruler.height();
      ruler.html( "" );
      return height+2;
    };

    var text = nodeEnter.append("svg:foreignObject")
    .attr("x", function(d) { return d.children || d._children ? 
      adjustTextX( d.adjustX, d ) : 10; 
    })
    .attr( "y", function(d) { return d.children || d._children ? 
      ".1em" : -14;
    })
    .attr("text-anchor", function(d) { return d.children || d._children ? "end" : "start"; })
    .attr( 'width', function(d){ return getLength( d.name ); } )
    .html( function( d ){ return "<div class=\"text\" style=\"text-align:center;\">" + d.name + "</div>" } );
    //.style("fill-opacity", 1e-6);

    // Transition nodes to their new position.
    var nodeUpdate = node.transition()
    .duration(duration)
    .attr("transform", function(d) { return "translate(" + d.y + "," + d.x + ")"; });

    nodeUpdate.select("circle")
    .attr("r", 4.5)
    .style("fill", function(d) { return d._children ? "lightsteelblue" : "#fff"; });

    nodeUpdate.select("text")
    .style("fill-opacity", 1);

    // Transition exiting nodes to the parent's new position.
    var nodeExit = node.exit().transition()
    .duration(duration)
    .attr("transform", function(d) { return "translate(" + source.y + "," + source.x + ")"; })
    .remove();

    nodeExit.select("circle")
    .attr("r", 1e-6);

    nodeExit.select("text")
    .style("fill-opacity", 1e-6);

    // Update the links…
    var link = svg.selectAll("path.link")
    .data(links, function(d) { return d.target.id; });

    // Enter any new links at the parent's previous position.
    link.enter().insert("path", "g")
    .attr("class", "link")
    .attr("d", function(d) {
      var o = {x: source.x0, y: source.y0};
      return diagonal({source: o, target: o});
    });

    // Transition links to their new position.
    link.transition()
    .duration(duration)
    .attr("d", diagonal);

    // Transition exiting nodes to the parent's new position.
    link.exit().transition()
    .duration(duration)
    .attr("d", function(d) {
      var o = {x: source.x, y: source.y};
      return diagonal({source: o, target: o});
    })
    .remove();

    // Stash the old positions for transition.
    nodes.forEach(function(d) {
      d.x0 = d.x;
      d.y0 = d.y;
    });
  }

  // Toggle children on click.
  function click(d) {
    if (d.children) {
      d._children = d.children;
      d.children = null;
    } else {
      d.children = d._children;
      d._children = null;
    }
    update(d);
  }
</script>


    </div>
    <!-- Footer -->
<footer id="footer">

    <!-- <ul class="icons">
        <li><a href="#" class="icon circle fa-twitter"><span class="label">Twitter</span></a></li>
        <li><a href="#" class="icon circle fa-facebook"><span class="label">Facebook</span></a></li>
        <li><a href="#" class="icon circle fa-google-plus"><span class="label">Google+</span></a></li>
        <li><a href="#" class="icon circle fa-github"><span class="label">Github</span></a></li>
        <li><a href="#" class="icon circle fa-dribbble"><span class="label">Dribbble</span></a></li>
    </ul> -->

<div class="copyright">
  <div class="row">
    <div class="col-2 offset-2">
      <a class="nodec" href="https://www.sdu.dk/en">
          <img style="width:100px;" src="/images/sdu.png" alt=""></a>
    </div>
    <div class="col-6">
        <p><small>The Programming, Logics, and Systems Group website is supported and hosted by the <a
        href="https://www.sdu.dk/en/Om_SDU/Institutter_centre/Imada_matematik_og_datalogi">Department
        of Mathematics and Computer Science</a> of the <a href="https://www.sdu.dk/en">University 
        of Southern Denmark</a>.</small></p>
     </div>
  </div>
</div>
</footer>

  </body>

</html>
